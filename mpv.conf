####################    GENERAL    ####################

# This is what profile gpu-hq do:
# scale=spline36
# cscale=spline36
# dscale=mitchell
# dither-depth=auto
# correct-downscaling=yes
# linear-downscaling=yes
# sigmoid-upscaling=yes
# deband=yes

profile=gpu-hq                                  # Allows for higher quality playback on MPV. Uses scaling methods that are significantly better than Default MPV, VLC and MPC.
vo=gpu                                          # https://mpv.io/manual/stable/#video-output-drivers-gpu
priority=high                                   # Makes PC prioritize MPV for allocating resources.
# Use "opengl" if you have compatibility issues. For displaying HDR content (not HDR -> SDR) "d3d11" is recommended (Windows only). 
gpu-api=auto                                    # https://mpv.io/manual/stable/#options-gpu-api
fullscreen=yes                                  # Start in fullscreen
deband=no                                       # Turn on only for videos with banding. (Keybind=d)

taskbar-progress=no                             # Disable playback progress rendering in taskbar
force-seekable=yes                              # If the player thinks that the media is not seekable, force enable seeking
keep-open=always                                # Don't close the player after finishing the video, and playback will never automatically advance to the next file in the playlist
reset-on-next-file=pause                        # After playing the next file in the playlist, it will automatically play the file instead of a paused state




####################    SCALERS    ####################

# Default was (because of profile=gpu-hq):
# scale=spline36
# cscale=spline36
# dscale=mitchell

scale=ewa_lanczossharp                          # Luma upscaler
dscale=mitchell                                 # Luma downscaler
cscale=ewa_lanczossoft                          # Chroma up&downscaler




####################    ON SCREEN DISPLAY AND ON SCREEN CONTROLLER    ####################

osd-bar=no                                      # Don't show a huge volume box on screen when turning the volume up/down
osc=no                                          # Allows for custom OSC to be used  https://github.com/cyl0/mpv-osc-morden-x
border=no                                       # Optional for modern OSC, but recommended
cursor-autohide-fs-only=yes                     # If this option is given, the cursor is always visible in windowed mode. In fullscreen mode, the cursor is shown or hidden according to --cursor-autohide.
cursor-autohide=300                             # Cursor hide in ms   
osd-level=1                                     # https://mpv.io/manual/stable/#options-osd-level
osd-duration=1000                               # Set the duration of the OSD messages in ms

osd-font='Verdana' 
osd-font-size=20
osd-color='#CCFFFFFF'                           # ARGB format
osd-border-color='#DD322640'                    # ARGB format
osd-border-size=0.5                             # Size for osd text and progress bar
osd-blur=0.2




####################    LANGUAGE PRIORITY    ####################

alang=ja,jp,jpn,en,eng                          # Audio language priority
slang=en,eng                                    # Subtitle language priority




####################    AUDIO    ####################

volume=100                                      # default volume, 100 = unchanged
audio-file-auto=fuzzy                           # Load external audio with (almost) the same name as the video
volume-max=200                                  # Max volume of the player




####################    SUBTITLES    ####################

demuxer-mkv-subtitle-preroll=yes                # https://mpv.io/manual/stable/#options-mkv-subtitle-preroll
sub-ass-vsfilter-blur-compat=no                 # https://mpv.io/manual/stable/#options-sub-ass-vsfilter-aspect-compatv
sub-fix-timing=no                               # https://mpv.io/manual/stable/#options-sub-fix-timing
sub-auto=fuzzy                                  # https://mpv.io/manual/stable/#options-no-sub-auto Load external subtitles with (almost) the same name as the video 

# The following options only apply to subtitles without own styling (i.e. not ASS but e.g. SRT)
sub-font="Andika New Basic Bold"
sub-font-size=46
sub-color="#FFFFFFFF"
sub-border-color="#FF000000"
sub-border-size=2.0
sub-shadow-offset=0
sub-spacing=0.0




####################    SCREENSHOT    ####################

screenshot-format=png                           # Output format of screenshots
screenshot-high-bit-depth=yes                   # Same output bitdepth as the video. Set it "no" if you want to save disc space
screenshot-png-compression=1                    # Compression of the PNG picture (1-9). Higher value means better compression, but takes more time
screenshot-directory="~/Pictures/mpv-screenshots"           # Output directory
screenshot-template="%f-%wH.%wM.%wS.%wT-#%#00n"             # Name format (filename-hour-minute-second-milisecond-number)




####################    INTERPOLATION    ####################

blend-subtitles=yes                             # Subtitle blending in scenechanges (smoother effect)
video-sync=display-resample                     # Set the fps as the max of your monitor Hz (only useful and needed with "interpolation=yes)
interpolation=yes                               # Enable interpolation
tscale=oversample                               # Interpolation method




####################    PROFILES    ####################

# Profiles for automatic debanding on flawed sources. Helps fix issues with video.

[WEB-DL]                              
    profile-cond=string.match(p.filename, "HorribleSubs")~=nil or string.match(p.filename, "Erai%-raws")~=nil or string.match(p.filename, "SubsPlease")~=nil
    deband=yes

[Mini-Encode #1]                  
    profile-cond=string.match(p.filename, "ASW")~=nil or string.match(p.filename, "DKB")~=nil or string.match(p.filename, "Judas")~=nil
    deband=yes

[Mini-Encode #2]                   
    profile-cond=string.match(p.filename, "Cerberus")~=nil or string.match(p.filename, "Nep%_Blanc")~=nil or string.match(p.filename, "Reaktor")~=nil
    deband=yes

[Mini-Encode #3]                   
    profile-cond=string.match(p.filename, "Cleo")~=nil or string.match(p.filename, "Akihito")~=nil or string.match(p.filename, "Reaktor")~=nil
    deband=yes

[Mini-Encode #4]                   
    profile-cond=string.match(p.filename, "Ember")~=nil 
    deband=yes




# Banding is a visual artifact, visual artifacts should never be in a video. 
# Example of banding: https://imgur.com/32d77H0
# Debanding is the process of removing said banding.
# 6 minute explanation of what causes banding: https://www.youtube.com/watch?v=h9j89L8eQQk
